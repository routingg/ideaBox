# 아키네이터 알고리즘의 핵심 포인트

이 문서는 Python 토이 아키네이터 코드에 포함된 핵심 알고리즘 요소를 정리한 Markdown 파일입니다.

---

## 1. 확률 분포 유지 (Probability Distribution)

아키네이터는 처음에 모든 후보 객체에 대해 **동일한 확률(균일 분포)**을 부여한다.

```python
self.probs = {obj: 1.0 / n for obj in self.objects}
```

이후 질문을 통해 정보가 들어올 때마다 이 확률 분포를 **업데이트하여 후보를 조정**한다.  
확률이 업데이트되며 특정 객체에 대한 확률이 크게 증가하면, 해당 객체를 미리 추측해볼 수 있다.

---

## 2. 엔트로피 계산 → 정보이득이 가장 높은 질문 선택

아키네이터의 핵심은 **정보이득(Information Gain)**을 최대화하는 질문을 선택하는 것이다.

- 질문 전 엔트로피 계산  
- 질문 후 엔트로피(예/아니오로 나뉠 확률 가중 평균) 계산  
- 두 값의 차이가 **정보이득 정보이득(IG)**

```python
h_before = entropy(current_probs)
h_after = self.expected_entropy_after_question(q_key)
ig = h_before - h_after
```

**IG가 가장 큰 질문 = 후보군을 가장 잘 쪼개는 질문**  
→ 아키네이터의 지능적인 질문 선택 방식

---

## 3. 베이즈 업데이트 (Bayesian Update)

사용자의 답변(예/아니오)에 따라 후보의 확률을 조정한다.

```python
if obj_answer_yes == user_answer_yes:
    new_probs[obj] = p
else:
    new_probs[obj] = 0.0
```

정답과 맞지 않는 객체는 확률 0  
그 후 전체 확률이 1이 되도록 **정규화(normalization)** 한다.

이는 사실상 **조건부 확률 P(object | answer)** 을 갱신하는  
단순한 형태의 베이즈 추론이다.

---

## 4. 확률이 몰리면 미리 추측하기

일정 확률(예: 0.85 이상)이 되면  
해당 객체가 정답일 가능성이 높으므로 추측을 시도한다.

```python
if prob > 0.85 and i > 1:
    # 추측 시도
```

이 로직 덕분에  
아키네이터는 20개 질문을 꽉 채우지 않고도  
미리 답을 맞힐 수 있게 된다.

---

## Summary

| 알고리즘 요소 | 설명 |
|--------------|------|
| 확률 분포 유지 | 모든 객체에 대해 확률을 추적 |
| 정보이득 기반 질문 | 엔트로피 감소를 극대화하는 질문 선택 |
| 베이즈 업데이트 | 답변에 따라 후보 확률 재계산 |
| 조기 추측 | 특정 객체 확률이 높아지면 즉시 추측 |

이 네 가지 요소가 결합되어  
아키네이터는 매우 효율적이고 지능적으로  
사용자가 생각한 대상을 찾아낸다.

---
